---
title: "Using the simple water balance model"
author: "Miquel De Caceres"
date: "`r Sys.Date()`"
output: 
  rmarkdown::html_vignette:
    toc: TRUE
vignette: >
  %\VignetteIndexEntry{Using the simple water balance model}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignettePackage{medfate}
  \usepackage[utf8]{inputenc}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(medfate)
```

## Introduction
## Preparing model inputs
Soil parameters can be initialized to default values, for a given number of layers, using:

```{r}
s = defaultSoilParams(3) #Default soil parameters for three layers
print(s)
```

Soil input for function `swb()` is an object of class `soil` that
is created using a function with the same name. Function `soil()` calculates
water content at field capacity and initializes soil moisture to a given level:
```{r}
examplesoil = soil(s, c(0.8, 0.5,0.5))
print(examplesoil)
```
Functions `swbInput()` and `forest2swbInput()` are used to build input
for the soil water balance model:

```{r}
data(exampleforest)
data(SpParamsMED)
#Initialize control parameters
control = defaultControl()
x = forest2swbInput(exampleforest,examplesoil,SpParamsMED, control)
x
```

## Running the soil water balance model

```{r}
data(examplemeteo)
S = swb(x, examplesoil, examplemeteo)
```

## Inspecting the model output
